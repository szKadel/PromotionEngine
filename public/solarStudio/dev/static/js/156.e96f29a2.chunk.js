"use strict";(self.webpackChunkbeup_hr=self.webpackChunkbeup_hr||[]).push([[156],{6503:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var r=n(4165),a=n(5861),o=n(9439),i=n(2791),l=n(5554),s=n(8232),u=n(624),c=n(9856),d=n(1082),f=n(1063),p=n(1442),m=n(5103),b=n(1413),v=n(184),h=n(7627),g=n(5575),y=n(6118),x=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var o,i,l,s,u,c,d,f,p;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a.data,i=a.newData,l=i.id,s=i.name,u=i.surname,s&&u){n.next=5;break}return e.current.show({severity:"error",summary:t("repeatedWords.error"),detail:t("error.user.table.row.update.emptyFields.message"),life:g.q.life}),n.abrupt("return");case 5:if(!(c=(0,h.FX)(o,i))){n.next=22;break}return i.department=i.department["@id"],n.next=10,y.hi.gt.update(l,i);case 10:if(d=n.sent,f=d.warning,p=d.error,!f){n.next=15;break}return e.current.show({severity:"warn",summary:f.title,detail:f.message,life:g.q.life}),n.abrupt("return");case 15:if(!p){n.next=18;break}return e.current.show({severity:"error",summary:p.title,detail:p.message,sticky:!0}),n.abrupt("return");case 18:return e.current.show({severity:"success",summary:t("repeatedWords.success"),detail:t("message.successfulOperation.message"),life:g.q.life}),n.abrupt("return");case 22:c||e.current.show({severity:"error",summary:t("repeatedWords.error"),detail:t("error.user.table.row.update.noChanges.message"),life:g.q.life});case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=n(8291),C=n(919),j=n(6525),S=function(e){var t=e.i18n,n=e.children,r=e.departments,a=e.employees,l=e.totalRecords,s=e.toastRef,u=e.dialogState,c=t.t,h=(0,i.useMemo)((function(){if(a){var e={i18n:t,dialogState:u,toastRef:s,departments:r};return(0,v.jsx)(w.o,{className:"table_header_toolBar",end:(0,v.jsx)(C.z,{size:"small",icon:"pi pi-plus",onClick:function(){return function(e,t,n,r){var a=(0,o.Z)(e,2);a[0],(0,a[1])({visibility:!0,header:t,content:(0,v.jsx)(n,(0,b.Z)({},r))})}(u,c("pages.settings.organization.pages.addEmployee.addedEmployeesListTable.dialog.addEmployee.header"),j.HH,e)}})})}})),g=function(e){return(0,v.jsx)(m.o,{type:"text",value:e.value,required:!0,onChange:function(t){return e.editorCallback(t.target.value)}})};return(0,v.jsxs)("div",{className:"table_container",children:[(0,v.jsxs)(d.w,{paginator:!0,value:a,rows:7,className:"table with_header",size:"normal",editMode:"row",onRowEditComplete:x(s,c),totalRecords:l,header:h,children:[(0,v.jsx)(f.s,{field:"id",header:"N\xba"}),(0,v.jsx)(f.s,{field:"name",editor:function(e){return g(e)},header:c("repeatedWords.name")}),(0,v.jsx)(f.s,{field:"surname",editor:function(e){return g(e)},header:c("repeatedWords.surname")}),(0,v.jsx)(f.s,{field:"department",editor:function(e){return function(e){return(0,v.jsx)(p.L,{placeholder:"".concat(c("repeatedWords.choose")," ").concat(c("repeatedWords.department")),optionLabel:"name",optionValue:"@id",options:r,value:e.value["@id"],onChange:function(t){e.editorCallback({"@id":t.target.value})}})}(e)},body:function(e){return e.department.name},header:c("repeatedWords.department")}),(0,v.jsx)(f.s,{rowEditor:!0,className:"text_align_center"})]}),n]})},E=n(5942),N=n(4679),P=function(e){var t=e.i18n,n=e.departments,s=e.toastRef,u=e.dialogState,c=(0,i.useState)({status:"loading"}),d=(0,o.Z)(c,2),f=d[0],p=d[1];return(0,i.useEffect)((function(){(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.hi.gt.get({itemsPerPage:N.y});case 2:if(t=e.sent,n=t.warning,!(a=t.error)&&!n){e.next=7;break}return p({status:"error",data:a||n}),e.abrupt("return");case 7:p({status:"success",data:t});case 8:case"end":return e.stop()}}),e)})))()}),[]),"loading"===f.status?(0,v.jsx)(S,{i18n:t,children:(0,v.jsx)(l.g,{})}):"error"===f.status?(0,v.jsx)(S,{i18n:t,children:(0,v.jsx)(E.j,{error:f.data})}):"success"===f.status?(0,v.jsx)(S,{i18n:t,departments:n,employees:f.data["hydra:member"],totalRecords:f.data["hydra:totalItems"],toastRef:s,dialogState:u}):void 0},O=n(3652),k=n(7890),I=n(2062),T=n(1695),_=n(8170),R=n(8718),W=n(9411),A=n(5854),G=n(5388);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function B(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function L(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}function V(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(c){u=!0,a=c}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=G.V.extend({defaultProps:{__TYPE:"TabView",id:null,activeIndex:0,className:null,onBeforeTabChange:null,onBeforeTabClose:null,onTabChange:null,onTabClose:null,panelContainerClassName:null,panelContainerStyle:null,renderActiveOnly:!0,scrollable:!1,style:null,children:void 0}}),q=G.V.extend({defaultProps:{__TYPE:"TabPanel",className:null,closable:!1,contentClassName:null,contentStyle:null,disabled:!1,header:null,headerClassName:null,headerStyle:null,headerTemplate:null,leftIcon:null,rightIcon:null,prevButton:null,nextButton:null,closeIcon:null,style:null,children:void 0},getCProp:function(e,t){return A.gb.getComponentProp(e,t,q.defaultProps)},getCProps:function(e){return A.gb.getComponentProps(e,q.defaultProps)},getCOtherProps:function(e){return A.gb.getComponentDiffProps(e,q.defaultProps)}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){},F=i.forwardRef((function(e,t){var n=i.useContext(k.Ou),r=X.getProps(e,n),a=H(i.useState(r.id),2),o=a[0],l=a[1],s=H(i.useState(!0),2),u=s[0],c=s[1],d=H(i.useState(!1),2),f=d[0],p=d[1],m=H(i.useState([]),2),b=m[0],v=m[1],h=H(i.useState(r.activeIndex),2),g=h[0],y=h[1],x=i.useRef(null),w=i.useRef(null),C=i.useRef(null),j=i.useRef(null),S=i.useRef(null),E=i.useRef(null),N=i.useRef({}),P=r.onTabChange?r.activeIndex:g,O={props:r,state:{id:o,isPrevButtonDisabled:u,isNextButtonDisabled:f,hiddenTabsState:b,activeIndex:g}},G=X.setMetaData(K({},O)),D=G.ptm,Z=G.ptmo,z=function(e,t){return Z(V(e,"pt"),t,{props:e.props,parent:O})},L=function(e){return e===P},V=function(e,t){return q.getCProp(e,t)},J=function(e,t){return e&&A.gb.isValidChild(e,"TabPanel")&&b.every((function(e){return e!==t}))},U=function(e,t){e.preventDefault(),r.onBeforeTabClose&&!1===r.onBeforeTabClose({originalEvent:e,index:t})||(v([].concat(B(b),[t])),r.onTabClose&&r.onTabClose({originalEvent:e,index:t}))},F=function(e,t,n){if(e&&e.preventDefault(),!V(t,"disabled")){if(r.onBeforeTabChange&&!1===r.onBeforeTabChange({originalEvent:e,index:n}))return;r.onTabChange?r.onTabChange({originalEvent:e,index:n}):y(n)}$(n)},M=function(e,t,n){"Enter"===e.key&&F(e,t,n)},$=function(e){var t=N.current["tab_".concat(e)];t&&t.scrollIntoView&&t.scrollIntoView({block:"nearest"})},Y=function(e){r.scrollable&&function(){var e=w.current,t=e.scrollLeft,n=e.scrollWidth,r=A.p7.getWidth(w.current);c(0===t),p(t===n-r)}(),e.preventDefault()},Q=function(){return[S.current,E.current].reduce((function(e,t){return t?e+A.p7.getWidth(t):e}),0)},ee=function(){c(!0),p(!1),v([]),r.onTabChange?r.onTabChange({index:P}):y(r.activeIndex)};i.useEffect((function(){!function(){var e=N.current["tab_".concat(P)];j.current.style.width=A.p7.getWidth(e)+"px",j.current.style.left=A.p7.getOffset(e).left-A.p7.getOffset(C.current).left+"px"}()})),(0,I.nw)((function(){o||l((0,A.Th)())})),(0,I.rf)((function(){if(A.gb.isNotEmpty(b)){var e=function(e){var t=i.Children.map(r.children,(function(e,t){if(J(e,t))return{tab:e,index:t}}));return t.find((function(t){var n=t.tab,r=t.index;return!V(n,"disabled")&&r>=e}))||t.reverse().find((function(t){var n=t.tab,r=t.index;return!V(n,"disabled")&&e>r}))}(b[b.length-1]);e&&F(null,e.tab,e.index)}}),[b]),(0,I.rf)((function(){r.activeIndex!==g&&$(r.activeIndex)}),[r.activeIndex]),i.useImperativeHandle(t,(function(){return{props:r,reset:ee,getElement:function(){return x.current}}}));var te=function(){return i.Children.map(r.children,(function(e,t){if(J(e,t))return function(e,t){var n=L(t),a=q.getCProps(e),l=a.headerStyle,s=a.headerClassName,u=a.style,c=a.className,d=a.disabled,f=a.leftIcon,p=a.rightIcon,m=a.header,b=a.headerTemplate,v=a.closable,h=a.closeIcon,g=K(K({},l||{}),u||{}),y=(0,A.AK)("p-unselectable-text",{"p-tabview-selected p-highlight":n,"p-disabled":d},s,c),x=o+"_header_"+t,w=o+"_content_"+t,C=d?null:0,j=f&&A.Cz.getJSXIcon(f,void 0,{props:r}),S=(0,A.dG)({className:"p-tabview-title"},z(e,"headertitle")),E=i.createElement("span",S,m),P=p&&A.Cz.getJSXIcon(p,void 0,{props:r}),O="p-tabview-close",k=h||i.createElement(R.q,{className:O,onClick:function(e){return U(e,t)}}),I=v?A.Cz.getJSXIcon(k,{className:O,onClick:function(e){return U(e,t)}},{props:r}):null,T=(0,A.dG)({id:x,role:"tab",className:"p-tabview-nav-link",tabIndex:C,"aria-controls":w,"aria-selected":n,onClick:function(n){return F(n,e,t)},onKeyDown:function(n){return M(n,e,t)}},z(e,"headeraction")),_=i.createElement("a",T,j,E,P,I,i.createElement(W.H,null));if(b){var G={className:"p-tabview-nav-link",titleClassName:"p-tabview-title",onClick:function(n){return F(n,e,t)},onKeyDown:function(n){return M(n,e,t)},leftIconElement:j,titleElement:E,rightIconElement:P,element:_,props:r,index:t,selected:n,ariaControls:w};_=A.gb.getJSXElement(b,G)}var D=(0,A.dG)({ref:function(e){return N.current["tab_".concat(t)]=e},className:y,style:g,role:"presentation"},z(e,"root"),z(e,"header"));return i.createElement("li",D,_)}(e,t)}))},ne=(0,A.AK)("p-tabview p-component",{"p-tabview-scrollable":r.scrollable},r.className),re=(0,A.dG)({id:o,ref:x,style:r.style,className:ne},X.getOtherProps(r),D("root")),ae=(0,A.dG)({className:"p-tabview-nav-container"},D("navcontainer")),oe=function(){var e=te(),t=(0,A.dG)({id:o,ref:w,className:"p-tabview-nav-content",style:r.style,onScroll:Y},D("navcontent")),n=(0,A.dG)({ref:C,className:"p-tabview-nav",role:"tablist"},D("nav")),a=(0,A.dG)({ref:j,className:"p-tabview-ink-bar"},D("inkbar"));return i.createElement("div",t,i.createElement("ul",n,e,i.createElement("li",a)))}(),ie=function(){var e=(0,A.AK)("p-tabview-panels",r.panelContainerClassName),t=(0,A.dG)({className:e,style:r.panelContainerStyle},D("panelcontainer")),n=i.Children.map(r.children,(function(e,t){if(J(e,t)&&(!r.renderActiveOnly||L(t))){var n=L(t),a=K(K({},V(e,"contentStyle")||{}),V(e,"style")||{}),l=(0,A.AK)(V(e,"contentClassName"),V(e,"className"),"p-tabview-panel",{"p-hidden":!n}),s=o+"_content_"+t,u=o+"_header_"+t,c=(0,A.dG)({id:s,className:l,style:a,role:"tabpanel","aria-labelledby":u,"aria-hidden":!n},q.getCOtherProps(e),z(e,"root"),z(e,"content"));return i.createElement("div",c,r.renderActiveOnly?n&&V(e,"children"):V(e,"children"))}}));return i.createElement("div",t,n)}(),le=function(){var e=(0,A.dG)(D("previcon")),t=r.prevButton||i.createElement(T.w,e),n=A.Cz.getJSXIcon(t,K({},e),{props:r}),a=(0,A.dG)({ref:S,type:"button",className:"p-tabview-nav-prev p-tabview-nav-btn p-link","aria-label":(0,k.$2)("previousPageLabel"),onClick:function(e){return function(){var e=A.p7.getWidth(w.current)-Q(),t=w.current.scrollLeft-e;w.current.scrollLeft=t<=0?0:t}()}},D("prevbutton"));return r.scrollable&&!u?i.createElement("button",a,n,i.createElement(W.H,null)):null}(),se=function(){var e=(0,A.dG)({"aria-hidden":"true"},D("nexticon")),t=r.nextButton||i.createElement(_.X,e),n=A.Cz.getJSXIcon(t,K({},e),{props:r}),a=(0,A.dG)({ref:E,type:"button",className:"p-tabview-nav-next p-tabview-nav-btn p-link","aria-label":(0,k.$2)("nextPageLabel"),onClick:function(e){return function(){var e=A.p7.getWidth(w.current)-Q(),t=w.current.scrollLeft+e,n=w.current.scrollWidth-e;w.current.scrollLeft=t>=n?n:t}()}},D("nextbutton"));if(r.scrollable&&!f)return i.createElement("button",a,n,i.createElement(W.H,null))}();return i.createElement("div",re,i.createElement("div",ae,le,oe,se),ie)}));U.displayName="TabPanel",F.displayName="TabView";var M=n(70),$=function(e){var t=e.currentUser,n=e.i18n,r=e.departments,a=n.t,l=(0,i.useState)({visibility:!1}),d=(0,o.Z)(l,2),f=d[0],p=d[1],m=(0,i.useRef)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.V,{header:null===f||void 0===f?void 0:f.header,className:"dialog",visible:f.visibility,onHide:function(){return p({visibility:!1})},children:null===f||void 0===f?void 0:f.content}),(0,v.jsx)(O.F,{ref:m}),(0,v.jsxs)("main",{className:"page settingsOrganization_page container_local",children:[(0,v.jsx)(s.m,{title:a("pages.settings.organization.contentCards.general.items.addEmployee")}),(0,v.jsx)("div",{className:"page_content",children:(0,v.jsxs)(F,{className:"tabView",panelContainerClassName:"padding0",children:[(0,v.jsx)(U,{header:"".concat(a("repeatedWords.employees")),children:(0,v.jsx)(P,{i18n:n,departments:r,toastRef:m,dialogState:l})}),(0,v.jsx)(U,{header:"".concat(a("repeatedWords.users")),children:(0,v.jsx)(M.rH,{currentUser:t,i18n:n,toastRef:m,dialogState:l})})]})}),(0,v.jsx)(u.W,{})]})]})},Y=n(9230),Q=function(e){var t=e.currentUser,n=(0,i.useState)({status:"loading"}),s=(0,o.Z)(n,2),u=s[0],c=s[1],d=(0,Y.$G)().i18n;return(0,i.useEffect)((function(){(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.hi.Yd.get({itemsPerPage:N.y});case 2:if(t=e.sent,n=t.warning,!(a=t.error)&&!n){e.next=7;break}return c({status:"error",data:a||n}),e.abrupt("return");case 7:c({status:"success",data:t});case 8:case"end":return e.stop()}}),e)})))()}),[]),"loading"===u.status?(0,v.jsx)(l.g,{}):"error"===u.status?(0,v.jsx)(E.j,{error:u.data}):"success"===u.status?(0,v.jsx)($,{currentUser:t,i18n:d,departments:u.data["hydra:member"]}):void 0}}}]);
//# sourceMappingURL=156.e96f29a2.chunk.js.map